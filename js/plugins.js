// Avoid `console` errors in browsers that lack a console.
(function() {
    var method;
    var noop = function () {};
    var methods = [
        'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',
        'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',
        'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',
        'timeStamp', 'trace', 'warn'
    ];
    var length = methods.length;
    var console = (window.console = window.console || {});

    while (length--) {
        method = methods[length];

        // Only stub undefined methods.
        if (!console[method]) {
            console[method] = noop;
        }
    }
}());

// Place any jQuery/helper plugins in here.

// Antiscroll
!function(t){function e(e,i){this.el=t(e),this.options=i||{},this.x=!1!==this.options.x||this.options.forceHorizontal,this.y=!1!==this.options.y||this.options.forceVertical,this.autoHide=!1!==this.options.autoHide,this.padding=void 0==this.options.padding?2:this.options.padding,this.inner=this.el.find(".antiscroll-inner"),this.inner.css({width:"+="+(this.y?a():0),height:"+="+(this.x?a():0)}),this.refresh()}function i(e){this.pane=e,this.pane.el.append(this.el),this.innerEl=this.pane.inner.get(0),this.dragging=!1,this.enter=!1,this.shown=!1,this.pane.el.mouseenter(t.proxy(this,"mouseenter")),this.pane.el.mouseleave(t.proxy(this,"mouseleave")),this.el.mousedown(t.proxy(this,"mousedown")),this.innerPaneScrollListener=t.proxy(this,"scroll"),this.pane.inner.scroll(this.innerPaneScrollListener),this.innerPaneMouseWheelListener=t.proxy(this,"mousewheel"),this.pane.inner.bind("mousewheel",this.innerPaneMouseWheelListener);var i=this.pane.options.initialDisplay;i!==!1&&(this.show(),this.pane.autoHide&&(this.hiding=setTimeout(t.proxy(this,"hide"),parseInt(i,10)||3e3)))}function n(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i}function a(){if(void 0===s){var e=t('<div class="antiscroll-inner" style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"></div>');t("body").append(e);var i=t(e).innerWidth(),n=t("div",e).innerWidth();t(e).remove(),s=i-n}return s}t.fn.antiscroll=function(e){return this.each(function(){t(this).data("antiscroll")&&t(this).data("antiscroll").destroy(),t(this).data("antiscroll",new t.Antiscroll(this,e))})},t.Antiscroll=e,e.prototype.refresh=function(){var t=this.inner.get(0).scrollWidth>this.el.width()+(this.y?a():0),e=this.inner.get(0).scrollHeight>this.el.height()+(this.x?a():0);this.x&&(!this.horizontal&&t?this.horizontal=new i.Horizontal(this):this.horizontal&&!t?(this.horizontal.destroy(),this.horizontal=null):this.horizontal&&this.horizontal.update()),this.y&&(!this.vertical&&e?this.vertical=new i.Vertical(this):this.vertical&&!e?(this.vertical.destroy(),this.vertical=null):this.vertical&&this.vertical.update())},e.prototype.destroy=function(){return this.horizontal&&(this.horizontal.destroy(),this.horizontal=null),this.vertical&&(this.vertical.destroy(),this.vertical=null),this},e.prototype.rebuild=function(){return this.destroy(),this.inner.attr("style",""),e.call(this,this.el,this.options),this},i.prototype.destroy=function(){return this.el.remove(),this.pane.inner.unbind("scroll",this.innerPaneScrollListener),this.pane.inner.unbind("mousewheel",this.innerPaneMouseWheelListener),this},i.prototype.mouseenter=function(){this.enter=!0,this.show()},i.prototype.mouseleave=function(){this.enter=!1,this.dragging||this.pane.autoHide&&this.hide()},i.prototype.scroll=function(){this.shown||(this.show(),this.enter||this.dragging||this.pane.autoHide&&(this.hiding=setTimeout(t.proxy(this,"hide"),1500))),this.update()},i.prototype.mousedown=function(e){e.preventDefault(),this.dragging=!0,this.startPageY=e.pageY-parseInt(this.el.css("top"),10),this.startPageX=e.pageX-parseInt(this.el.css("left"),10),this.el[0].ownerDocument.onselectstart=function(){return!1};var i=(this.pane,t.proxy(this,"mousemove")),n=this;t(this.el[0].ownerDocument).mousemove(i).mouseup(function(){n.dragging=!1,this.onselectstart=null,t(this).unbind("mousemove",i),n.enter||n.hide()})},i.prototype.show=function(){!this.shown&&this.update()&&(this.el.addClass("antiscroll-scrollbar-shown"),this.hiding&&(clearTimeout(this.hiding),this.hiding=null),this.shown=!0)},i.prototype.hide=function(){this.pane.autoHide!==!1&&this.shown&&(this.el.removeClass("antiscroll-scrollbar-shown"),this.shown=!1)},i.Horizontal=function(e){this.el=t('<div class="antiscroll-scrollbar antiscroll-scrollbar-horizontal">',e.el),i.call(this,e)},n(i.Horizontal,i),i.Horizontal.prototype.update=function(){var t=this.pane.el.width(),e=t-2*this.pane.padding,i=this.pane.inner.get(0);return this.el.css("width",e*t/i.scrollWidth).css("left",e*i.scrollLeft/i.scrollWidth),t<i.scrollWidth},i.Horizontal.prototype.mousemove=function(t){var e=this.pane.el.width()-2*this.pane.padding,i=t.pageX-this.startPageX,n=this.el.width(),a=this.pane.inner.get(0),s=Math.min(Math.max(i,0),e-n);a.scrollLeft=(a.scrollWidth-this.pane.el.width())*s/(e-n)},i.Horizontal.prototype.mousewheel=function(t,e,i){return 0>i&&0==this.pane.inner.get(0).scrollLeft||i>0&&this.innerEl.scrollLeft+Math.ceil(this.pane.el.width())==this.innerEl.scrollWidth?(t.preventDefault(),!1):void 0},i.Vertical=function(e){this.el=t('<div class="antiscroll-scrollbar antiscroll-scrollbar-vertical">',e.el),i.call(this,e)},n(i.Vertical,i),i.Vertical.prototype.update=function(){var t=this.pane.el.height(),e=t-2*this.pane.padding,i=this.innerEl,n=e*t/i.scrollHeight;n=20>n?20:n;var a=e*i.scrollTop/i.scrollHeight;if(a+n>e){var s=a+n-e;a=a-s-3}return this.el.css("height",n).css("top",a),t<i.scrollHeight},i.Vertical.prototype.mousemove=function(t){var e=this.pane.el.height(),i=e-2*this.pane.padding,n=t.pageY-this.startPageY,a=this.el.height(),s=this.innerEl,o=Math.min(Math.max(n,0),i-a);s.scrollTop=(s.scrollHeight-e)*o/(i-a)},i.Vertical.prototype.mousewheel=function(t,e,i,n){return n>0&&0==this.innerEl.scrollTop||0>n&&this.innerEl.scrollTop+Math.ceil(this.pane.el.height())==this.innerEl.scrollHeight?(t.preventDefault(),!1):void 0};var s}(jQuery);


// tipsy, facebook style tooltips for jquery
// version 1.0.0a
// (c) 2008-2010 jason frame [jason@onehackoranother.com]
// released under the MIT license
(function ($) { function maybeCall(thing, ctx) { return (typeof thing == "function") ? (thing.call(ctx)) : thing } function isElementInDOM(ele) { while (ele = ele.parentNode) { if (ele == document) { return true } } return false } function Tipsy(element, options) { this.$element = $(element); this.options = options; this.enabled = true; this.fixTitle() } Tipsy.prototype = { show: function () { var title = this.getTitle(); if (title && this.enabled) { var $tip = this.tip(); $tip.find(".tipsy-inner")[this.options.html ? "html" : "text"](title); $tip[0].className = "tipsy"; $tip.remove().css({ top: 0, left: 0, visibility: "hidden", display: "block" }).prependTo(document.body); var pos = $.extend({}, this.$element.offset(), { width: this.$element[0].offsetWidth, height: this.$element[0].offsetHeight }); var actualWidth = $tip[0].offsetWidth, actualHeight = $tip[0].offsetHeight, gravity = maybeCall(this.options.gravity, this.$element[0]); var tp; switch (gravity.charAt(0)) { case "n": tp = { top: pos.top + pos.height + this.options.offset, left: pos.left + pos.width / 2 - actualWidth / 2 }; break; case "s": tp = { top: pos.top - actualHeight - this.options.offset, left: pos.left + pos.width / 2 - actualWidth / 2 }; break; case "e": tp = { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth - this.options.offset }; break; case "w": tp = { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width + this.options.offset }; break } if (gravity.length == 2) { if (gravity.charAt(1) == "w") { tp.left = pos.left + pos.width / 2 - 15 } else { tp.left = pos.left + pos.width / 2 - actualWidth + 15 } } $tip.css(tp).addClass("tipsy-" + gravity); $tip.find(".tipsy-arrow")[0].className = "tipsy-arrow tipsy-arrow-" + gravity.charAt(0); if (this.options.className) { $tip.addClass(maybeCall(this.options.className, this.$element[0])) } if (this.options.fade) { $tip.stop().css({ opacity: 0, display: "block", visibility: "visible" }).animate({ opacity: this.options.opacity }) } else { $tip.css({ visibility: "visible", opacity: this.options.opacity }) } } }, hide: function () { if (this.options.fade) { this.tip().stop().fadeOut(function () { $(this).remove() }) } else { this.tip().remove() } }, fixTitle: function () { var $e = this.$element; if ($e.attr("title") || typeof ($e.attr("original-title")) != "string") { $e.attr("original-title", $e.attr("title") || "").removeAttr("title") } }, getTitle: function () { var title, $e = this.$element, o = this.options; this.fixTitle(); var title, o = this.options; if (typeof o.title == "string") { title = $e.attr(o.title == "title" ? "original-title" : o.title) } else { if (typeof o.title == "function") { title = o.title.call($e[0]) } } title = ("" + title).replace(/(^\s*|\s*$)/, ""); return title || o.fallback }, tip: function () { if (!this.$tip) { this.$tip = $('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'); this.$tip.data("tipsy-pointee", this.$element[0]) } return this.$tip }, validate: function () { if (!this.$element[0].parentNode) { this.hide(); this.$element = null; this.options = null } }, enable: function () { this.enabled = true }, disable: function () { this.enabled = false }, toggleEnabled: function () { this.enabled = !this.enabled } }; $.fn.tipsy = function (options) { if (options === true) { return this.data("tipsy") } else { if (typeof options == "string") { var tipsy = this.data("tipsy"); if (tipsy) { tipsy[options]() } return this } } options = $.extend({}, $.fn.tipsy.defaults, options); function get(ele) { var tipsy = $.data(ele, "tipsy"); if (!tipsy) { tipsy = new Tipsy(ele, $.fn.tipsy.elementOptions(ele, options)); $.data(ele, "tipsy", tipsy) } return tipsy } function enter() { var tipsy = get(this); tipsy.hoverState = "in"; if (options.delayIn == 0) { tipsy.show() } else { tipsy.fixTitle(); setTimeout(function () { if (tipsy.hoverState == "in") { tipsy.show() } }, options.delayIn) } } function leave() { var tipsy = get(this); tipsy.hoverState = "out"; if (options.delayOut == 0) { tipsy.hide() } else { setTimeout(function () { if (tipsy.hoverState == "out") { tipsy.hide() } }, options.delayOut) } } if (!options.live) { this.each(function () { get(this) }) } if (options.trigger != "manual") { var binder = options.live ? "live" : "bind", eventIn = options.trigger == "hover" ? "mouseenter" : "focus", eventOut = options.trigger == "hover" ? "mouseleave" : "blur"; this[binder](eventIn, enter)[binder](eventOut, leave) } return this }; $.fn.tipsy.defaults = { className: null, delayIn: 0, delayOut: 0, fade: false, fallback: "", gravity: "n", html: false, live: false, offset: 0, opacity: 0.8, title: "title", trigger: "hover" }; $.fn.tipsy.revalidate = function () { $(".tipsy").each(function () { var pointee = $.data(this, "tipsy-pointee"); if (!pointee || !isElementInDOM(pointee)) { $(this).remove() } }) }; $.fn.tipsy.elementOptions = function (ele, options) { return $.metadata ? $.extend({}, options, $(ele).metadata()) : options }; $.fn.tipsy.autoNS = function () { return $(this).offset().top > ($(document).scrollTop() + $(window).height() / 2) ? "s" : "n" }; $.fn.tipsy.autoWE = function () { return $(this).offset().left > ($(document).scrollLeft() + $(window).width() / 2) ? "e" : "w" }; $.fn.tipsy.autoBounds = function (margin, prefer) { return function () { var dir = { ns: prefer[0], ew: (prefer.length > 1 ? prefer[1] : false) }, boundTop = $(document).scrollTop() + margin, boundLeft = $(document).scrollLeft() + margin, $this = $(this); if ($this.offset().top < boundTop) { dir.ns = "n" } if ($this.offset().left < boundLeft) { dir.ew = "w" } if ($(window).width() + $(document).scrollLeft() - $this.offset().left < margin) { dir.ew = "e" } if ($(window).height() + $(document).scrollTop() - $this.offset().top < margin) { dir.ns = "s" } return dir.ns + (dir.ew ? dir.ew : "") } } })(jQuery);
